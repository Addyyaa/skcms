{
  "comments": [
    {
      "key": {
        "uuid": "0e48ab37_2bdc4aef",
        "filename": "profiles/misc/crbug_1017960_19.icc.txt",
        "patchSetId": 7
      },
      "lineNbr": 31,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-11-20T20:17:23Z",
      "side": 1,
      "message": "This is the profile with the kink at the top of blue, right?",
      "range": {
        "startLine": 31,
        "startChar": 34,
        "endLine": 31,
        "endChar": 42
      },
      "revId": "9d51b9de3ca726b6c666a5f6aab798bb4c2e25b8",
      "serverId": "5086850b-e599-37d2-8ec8-ff16aeccbf02",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2d6862ce_18b00c78",
        "filename": "profiles/misc/crbug_1017960_19.icc.txt",
        "patchSetId": 7
      },
      "lineNbr": 31,
      "author": {
        "id": 5631
      },
      "writtenOn": "2019-11-20T21:27:04Z",
      "side": 1,
      "message": "Yup. Updated curves visualization at https://brianosman.users.x20web.corp.google.com/www/no_crawl/TRC_curves_1017960_b.html\n\nWe pick the green curve now, which is very good for green, not bad for red, and obviously not great for blue.",
      "parentUuid": "0e48ab37_2bdc4aef",
      "range": {
        "startLine": 31,
        "startChar": 34,
        "endLine": 31,
        "endChar": 42
      },
      "revId": "9d51b9de3ca726b6c666a5f6aab798bb4c2e25b8",
      "serverId": "5086850b-e599-37d2-8ec8-ff16aeccbf02",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c28a79bb_ec1513ff",
        "filename": "skcms.cc",
        "patchSetId": 7
      },
      "lineNbr": 1685,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-11-20T20:17:23Z",
      "side": 1,
      "message": "This space left intentionally blank?\n\nIf so I\u0027m cool with it.",
      "range": {
        "startLine": 1685,
        "startChar": 30,
        "endLine": 1685,
        "endChar": 36
      },
      "revId": "9d51b9de3ca726b6c666a5f6aab798bb4c2e25b8",
      "serverId": "5086850b-e599-37d2-8ec8-ff16aeccbf02",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e599077e_59f82af1",
        "filename": "skcms.cc",
        "patchSetId": 7
      },
      "lineNbr": 1685,
      "author": {
        "id": 5631
      },
      "writtenOn": "2019-11-20T21:27:04Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "c28a79bb_ec1513ff",
      "range": {
        "startLine": 1685,
        "startChar": 30,
        "endLine": 1685,
        "endChar": 36
      },
      "revId": "9d51b9de3ca726b6c666a5f6aab798bb4c2e25b8",
      "serverId": "5086850b-e599-37d2-8ec8-ff16aeccbf02",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "419998ff_b8db0b1e",
        "filename": "skcms.cc",
        "patchSetId": 7
      },
      "lineNbr": 1689,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-11-20T20:17:23Z",
      "side": 1,
      "message": "Some of this get\u0027s a little confusing now that we haven\u0027t already mentioned P.\n\nI guess if we just say, \"let P \u003d [ tf-\u003eg, tf-\u003ea, tf-\u003eb ]\" it all makes sense?",
      "range": {
        "startLine": 1689,
        "startChar": 21,
        "endLine": 1689,
        "endChar": 27
      },
      "revId": "9d51b9de3ca726b6c666a5f6aab798bb4c2e25b8",
      "serverId": "5086850b-e599-37d2-8ec8-ff16aeccbf02",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "92a4c6aa_61849107",
        "filename": "skcms.cc",
        "patchSetId": 7
      },
      "lineNbr": 1689,
      "author": {
        "id": 5631
      },
      "writtenOn": "2019-11-20T21:27:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "419998ff_b8db0b1e",
      "range": {
        "startLine": 1689,
        "startChar": 21,
        "endLine": 1689,
        "endChar": 27
      },
      "revId": "9d51b9de3ca726b6c666a5f6aab798bb4c2e25b8",
      "serverId": "5086850b-e599-37d2-8ec8-ff16aeccbf02",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3e41337b_7a7a5bbe",
        "filename": "skcms.cc",
        "patchSetId": 7
      },
      "lineNbr": 1763,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-11-20T20:17:23Z",
      "side": 1,
      "message": "Now that this is abstracted away a little, might be worth mentioning we\u0027re tweaking tf-\u003eb to meet our constraints, and then solving for tf-\u003ee by knowing the two pieces of the function must meet at d?\n\nIt really might be worth doing a second pass over the comments to remind us what our constraints are.\n\nI can\u0027t really remember why a \u003e\u003d 0, and not just the range between ad+b and a+b \u003e\u003d 0.  I know we don\u0027t want complex numbers, but is there some further principled reason a must be \u003e\u003d 0?  Monotonicity?",
      "range": {
        "startLine": 1763,
        "startChar": 12,
        "endLine": 1763,
        "endChar": 20
      },
      "revId": "9d51b9de3ca726b6c666a5f6aab798bb4c2e25b8",
      "serverId": "5086850b-e599-37d2-8ec8-ff16aeccbf02",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b74dbd25_eaaf6cc9",
        "filename": "skcms.cc",
        "patchSetId": 7
      },
      "lineNbr": 1763,
      "author": {
        "id": 5631
      },
      "writtenOn": "2019-11-20T21:27:04Z",
      "side": 1,
      "message": "I revisited the comments a bit, and added justification for each fixup.",
      "parentUuid": "3e41337b_7a7a5bbe",
      "range": {
        "startLine": 1763,
        "startChar": 12,
        "endLine": 1763,
        "endChar": 20
      },
      "revId": "9d51b9de3ca726b6c666a5f6aab798bb4c2e25b8",
      "serverId": "5086850b-e599-37d2-8ec8-ff16aeccbf02",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "81239c6c_73d944b6",
        "filename": "skcms.cc",
        "patchSetId": 7
      },
      "lineNbr": 1764,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-11-20T20:17:23Z",
      "side": 1,
      "message": "Probably better as \"gauss_newton_step()\u0027s optimization\" now?",
      "range": {
        "startLine": 1764,
        "startChar": 71,
        "endLine": 1764,
        "endChar": 87
      },
      "revId": "9d51b9de3ca726b6c666a5f6aab798bb4c2e25b8",
      "serverId": "5086850b-e599-37d2-8ec8-ff16aeccbf02",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "467fb128_a10b20f7",
        "filename": "skcms.cc",
        "patchSetId": 7
      },
      "lineNbr": 1764,
      "author": {
        "id": 5631
      },
      "writtenOn": "2019-11-20T21:27:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "81239c6c_73d944b6",
      "range": {
        "startLine": 1764,
        "startChar": 71,
        "endLine": 1764,
        "endChar": 87
      },
      "revId": "9d51b9de3ca726b6c666a5f6aab798bb4c2e25b8",
      "serverId": "5086850b-e599-37d2-8ec8-ff16aeccbf02",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e85ea30d_527a45f8",
        "filename": "skcms.cc",
        "patchSetId": 7
      },
      "lineNbr": 1776,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-11-20T20:17:23Z",
      "side": 1,
      "message": "This part was a little different from our unprincipled tweaks, so I think we should note what we\u0027re doing or it\u0027ll feel lumped in with the hacks?",
      "revId": "9d51b9de3ca726b6c666a5f6aab798bb4c2e25b8",
      "serverId": "5086850b-e599-37d2-8ec8-ff16aeccbf02",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "48e5bb3b_053df3d5",
        "filename": "skcms.cc",
        "patchSetId": 7
      },
      "lineNbr": 1776,
      "author": {
        "id": 5631
      },
      "writtenOn": "2019-11-20T21:27:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e85ea30d_527a45f8",
      "revId": "9d51b9de3ca726b6c666a5f6aab798bb4c2e25b8",
      "serverId": "5086850b-e599-37d2-8ec8-ff16aeccbf02",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "32721ec2_bed103d6",
        "filename": "skcms.cc",
        "patchSetId": 7
      },
      "lineNbr": 1782,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-11-20T20:17:23Z",
      "side": 1,
      "message": "Is it just me or does this sound like it returns a bool?",
      "range": {
        "startLine": 1782,
        "startChar": 13,
        "endLine": 1782,
        "endChar": 40
      },
      "revId": "9d51b9de3ca726b6c666a5f6aab798bb4c2e25b8",
      "serverId": "5086850b-e599-37d2-8ec8-ff16aeccbf02",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8715f626_8a39a66f",
        "filename": "skcms.cc",
        "patchSetId": 7
      },
      "lineNbr": 1782,
      "author": {
        "id": 5631
      },
      "writtenOn": "2019-11-20T21:27:04Z",
      "side": 1,
      "message": "Yeah, my original name was worse. How about max_roundtrip_error_if_valid() ?",
      "parentUuid": "32721ec2_bed103d6",
      "range": {
        "startLine": 1782,
        "startChar": 13,
        "endLine": 1782,
        "endChar": 40
      },
      "revId": "9d51b9de3ca726b6c666a5f6aab798bb4c2e25b8",
      "serverId": "5086850b-e599-37d2-8ec8-ff16aeccbf02",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4935fecd_00444a23",
        "filename": "skcms.cc",
        "patchSetId": 7
      },
      "lineNbr": 1799,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-11-20T20:17:23Z",
      "side": 1,
      "message": "I can\u0027t remember why we check the constraints before the gauss_newton_step() calls too.  Do you?  Is it just, powf_() might explode?",
      "revId": "9d51b9de3ca726b6c666a5f6aab798bb4c2e25b8",
      "serverId": "5086850b-e599-37d2-8ec8-ff16aeccbf02",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "465189b4_6ddc6d08",
        "filename": "skcms.cc",
        "patchSetId": 7
      },
      "lineNbr": 1799,
      "author": {
        "id": 5631
      },
      "writtenOn": "2019-11-20T21:27:04Z",
      "side": 1,
      "message": "Yes, I think we need to enforce the ad+b thing, in particular, to avoid powf on negative values.",
      "parentUuid": "4935fecd_00444a23",
      "revId": "9d51b9de3ca726b6c666a5f6aab798bb4c2e25b8",
      "serverId": "5086850b-e599-37d2-8ec8-ff16aeccbf02",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f7404f9b_fbaba33d",
        "filename": "skcms.cc",
        "patchSetId": 7
      },
      "lineNbr": 1818,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-11-20T20:17:23Z",
      "side": 1,
      "message": "As an alternative to many of my comments above, might try making fixup_tf() a lambda?  That\u0027ll bring things conceptually closer together?",
      "range": {
        "startLine": 1818,
        "startChar": 62,
        "endLine": 1818,
        "endChar": 69
      },
      "revId": "9d51b9de3ca726b6c666a5f6aab798bb4c2e25b8",
      "serverId": "5086850b-e599-37d2-8ec8-ff16aeccbf02",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "63e6b710_1a5ca019",
        "filename": "skcms.cc",
        "patchSetId": 7
      },
      "lineNbr": 1818,
      "author": {
        "id": 5631
      },
      "writtenOn": "2019-11-20T21:27:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f7404f9b_fbaba33d",
      "range": {
        "startLine": 1818,
        "startChar": 62,
        "endLine": 1818,
        "endChar": 69
      },
      "revId": "9d51b9de3ca726b6c666a5f6aab798bb4c2e25b8",
      "serverId": "5086850b-e599-37d2-8ec8-ff16aeccbf02",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b435b329_306cbc1a",
        "filename": "skcms.cc",
        "patchSetId": 7
      },
      "lineNbr": 1900,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-11-20T20:17:23Z",
      "side": 1,
      "message": "Does any of this simplify now that we\u0027re checking those inverts in fit_nonlinear()?",
      "range": {
        "startLine": 1892,
        "startChar": 0,
        "endLine": 1900,
        "endChar": 13
      },
      "revId": "9d51b9de3ca726b6c666a5f6aab798bb4c2e25b8",
      "serverId": "5086850b-e599-37d2-8ec8-ff16aeccbf02",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "205eebe1_5c98e62b",
        "filename": "skcms.cc",
        "patchSetId": 7
      },
      "lineNbr": 1900,
      "author": {
        "id": 5631
      },
      "writtenOn": "2019-11-20T21:27:04Z",
      "side": 1,
      "message": "Yeah, I think we can assert that these succeed (we still need to do the invert here, unless we want to surface the inverse result from fit_nonlinear). We use most of the results here (from both inverts), so I simply added asserts.",
      "parentUuid": "b435b329_306cbc1a",
      "range": {
        "startLine": 1892,
        "startChar": 0,
        "endLine": 1900,
        "endChar": 13
      },
      "revId": "9d51b9de3ca726b6c666a5f6aab798bb4c2e25b8",
      "serverId": "5086850b-e599-37d2-8ec8-ff16aeccbf02",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "40138a34_6b4750a7",
        "filename": "skcms.cc",
        "patchSetId": 7
      },
      "lineNbr": 1900,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-11-25T13:57:37Z",
      "side": 1,
      "message": "I\u0027m looking forward to the fuzzers immediately proving us wrong.  :)",
      "parentUuid": "205eebe1_5c98e62b",
      "range": {
        "startLine": 1892,
        "startChar": 0,
        "endLine": 1900,
        "endChar": 13
      },
      "revId": "9d51b9de3ca726b6c666a5f6aab798bb4c2e25b8",
      "serverId": "5086850b-e599-37d2-8ec8-ff16aeccbf02",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e0f85cbc_8d876430",
        "filename": "skcms.cc",
        "patchSetId": 7
      },
      "lineNbr": 1919,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-11-20T20:17:23Z",
      "side": 1,
      "message": "Possibly this too?",
      "range": {
        "startLine": 1917,
        "startChar": 0,
        "endLine": 1919,
        "endChar": 9
      },
      "revId": "9d51b9de3ca726b6c666a5f6aab798bb4c2e25b8",
      "serverId": "5086850b-e599-37d2-8ec8-ff16aeccbf02",
      "unresolved": true
    }
  ]
}